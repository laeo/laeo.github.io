#!/usr/bin/env node

const Application = require('./application');
const Context     = require('./context');
const date        = require('./polyfill.date.js');

let args     = process.argv.slice(2);
let options  = args.filter(op => { return op[0] === '-'; });
let commands = args.filter(op => { return op[0] !== '-'; })

const app = new Application(new Context());

try {
  switch (commands.shift().toLowerCase()) {
  case 'start':
    opStart(context, commands.shift());
    break;
  case 'trash':
    opTrash(context, commands.shift());
    break;
  case '-h':
  default:
    opGuide(context);
  }
} catch (e) {
  context.clear();
  context.warn(e.message);
}

context.flush();
